package 测试;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Base64;

public class base64_decode {
    public static void main(String[] args) throws IOException {
        Base64.Decoder decoder = Base64.getDecoder();

        String str=
                "data:image/jpeg;base64,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";
//        String s = str.replaceAll(" +","+");

        if (str.contains("data:")) {
            int start = str.indexOf(",");
            str = str.substring(start + 1);
        }
        str = str.replaceAll("\r|\n", "");
        str = str.trim();
        byte[] decode = decoder.decode(str);
        FileOutputStream out = new FileOutputStream(new File("/Users/ppsn/Documents/Java-learning/src/测试/save10.png"));
        out.write(decode);
        out.close();
    }
}

//iVBORw0KGgoAAAANSUhEUgAAAB4AAAAwCAIAAACJ9F2zAAABSWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8bAysDIwMdgwGCemFxc4BgQ4ANUwgCjUcG3a0C1QHBZF2RWbljjow/y+/7su3rlzK8lMz5iqkcBXCmpxclA+g8QpycXFJUwMDCmANnK5SUFIHYHkC1SBHQUkD0HxE6HsDeA2EkQ9hGwmpAgZyD7BpAtkJyRCDSD8QWQrZOEJJ6OxIbaCwK8YRFGJoaWuibeuh4uBNxLMihJrSgB0c75BZVFmekZJQqOwFBKVfDMS9bTUTAyMDJiYACFOUT150BwWDKKnUGI5S9iYLD4ysDAPAEhljSTgWF7KwODxC2EmMoCBgb+FgaGbecLEosS4Q5g/MZSnGZsBGHzODEwsN77//+zGgMD+2QGhr8T/v//vej//7+LgebfYWA4kAcABCFka4aiBMAAAABsZVhJZk1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAAkAAAAAEAAACQAAAAAQACoAIABAAAAAEAAAAeoAMABAAAAAEAAAAwAAAAAN6aT2YAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAJfSURBVFgJ7ZfPj9JAFMcZaQVZfiyISyCRReImxWg28cfBePJm9m5M9KIn7yb7f3j15I94XF0Tj548eTBGLyZq3Ba3EAlZ2WzaQgn94RdmM9RRi0zCBSENee+17zNvvp15DEQ5ezEym8+R2WCH1AWa03YhyEIQTgHOXayQuRBE4mYR4laTycrSEh4wBs7bzg8Y57O59ezySjzuen7L7r1ut/VulxGmQF/Jn7hVqSDzi2FolrlZq60vZxkIxs3VyrOG/lBVPd+HK7j47ikKxx2yCLl+sryp1Oh4IuhCPA4pkN/u2+86HVyGM6A4fF8tFC7n8zCmEIQlZ2S573mPVHW7odPgsWj07um1a8UidTeKpTd7eyJVI/9pXWNcuD3Xvf/508eDA4pW0mkYImiU/LLZpJTg96vWd+qmZDkRlUTQrV7Pdt0glNp1y2LBpCyERtUMETS48USqDuJC7P8HTf6iAon8ckdEkKT0542Wksdx3/dF0NjouH4v/UwmQ4NoTobjiKDRhm6fqnJo7P6NUokG27aNhTieAvdoiIueiR6UluUndW3HNDH3S7njd6rVldjhVD7s7yNdBK1ZVjmRuJDL4cIwXsSXyHj2qPf5qG2NQyFlcrf6nrulH/Y8iBPkYqQHO1+/jXa8SNXRCHmsqZbj3FgtpySZDbzbtfATg3ZKIyJoQobrd0vffdFsnMtk8rHYwPPBVU2TDQNDBM3yHc97P3pjLBI0RLQO5ofYc492R6cLKECPGSFS0Fvk3//tYp1lY0eRhk2BrTwRPcUKwWEjeN6YiJ771zhRAe6BGQryE5l2zxoO5o8DAAAAAElFTkSuQmCC

